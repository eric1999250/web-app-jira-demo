name: Deploy and Report to Jira

on:
  push:
    tags:
      - "v*"

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Deploy Application
        run: echo "Deployment simulated â€” replace with real deploy command"

      - name: Create GitHub deployment (for Jira)
        uses: chrnorm/deployment-action@releases/v1
        with:
          environment: "production"
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Set deployment status to success
        uses: chrnorm/deployment-action@releases/v1
        if: success()
        with:
          environment: "production"
          status: "success"
          token: ${{ secrets.GITHUB_TOKEN }}
